<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dragon.native.pool &mdash; Dragon  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="C Language Bindings" href="../C/index.html" />
    <link rel="prev" title="dragon.native.array" href="dragon.native.array.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> Dragon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../uguide/uguide.html">Users Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pguide/pguide.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cbook/cbook.html">Solution Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmarks/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../ref.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Dragon Native</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#reference-by-language">Reference by Language</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Python Language Bindings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#specification-by-language">Specification by Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#architecture">Architecture</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../client/index.html">Dragon GS Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inf/index.html">Dragon Infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core/index.html">Dragon Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mpbridge/index.html">MPBridge</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../infrastructure/infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../services/services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../components/components.html">Low-level Components</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Dragon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../ref.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Dragon Native</a></li>
          <li class="breadcrumb-item"><a href="index.html">Python Language Bindings</a></li>
      <li class="breadcrumb-item active">dragon.native.pool</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/ref/native/Python/dragon.native.pool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-dragon.native.pool">
<span id="dragon-native-pool"></span><h1>dragon.native.pool<a class="headerlink" href="#module-dragon.native.pool" title="Permalink to this heading"></a></h1>
<p>The Dragon native pool manages a pool of child processes.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mapstar</span></code>(args)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rebuild_exc</span></code>(exc, tb)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dragon.native.pool.ApplyResult" title="dragon.native.pool.ApplyResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ApplyResult</span></code></a></p></td>
<td><p>Returned by <code class="code docutils literal notranslate"><span class="pre">apply_async</span></code> and has <code class="code docutils literal notranslate"><span class="pre">get</span></code> method to retrieve result.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dragon.native.pool.AsyncResult" title="dragon.native.pool.AsyncResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AsyncResult</span></code></a></p></td>
<td><p>alias of <a class="reference internal" href="#dragon.native.pool.ApplyResult" title="dragon.native.pool.ApplyResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApplyResult</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExceptionWithTraceback</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dragon.native.pool.MapResult" title="dragon.native.pool.MapResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapResult</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dragon.native.pool.Pool" title="dragon.native.pool.Pool"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Pool</span></code></a></p></td>
<td><p>A Dragon native Pool relying on native Process Group and Queues</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Exceptions</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dragon.native.pool.MaybeEncodingError" title="dragon.native.pool.MaybeEncodingError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MaybeEncodingError</span></code></a></p></td>
<td><p>Wraps possible unpickleable errors, so they can be safely sent through the socket.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dragon.native.pool.RemoteTraceback" title="dragon.native.pool.RemoteTraceback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RemoteTraceback</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py exception">
<dt class="sig sig-object py" id="dragon.native.pool.RemoteTraceback">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RemoteTraceback</span></span><a class="headerlink" href="#dragon.native.pool.RemoteTraceback" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.RemoteTraceback.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dragon.native.pool.RemoteTraceback.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="dragon.native.pool.MaybeEncodingError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MaybeEncodingError</span></span><a class="headerlink" href="#dragon.native.pool.MaybeEncodingError" title="Permalink to this definition"></a></dt>
<dd><p>Wraps possible unpickleable errors, so they can be
safely sent through the socket.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.MaybeEncodingError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dragon.native.pool.MaybeEncodingError.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ApplyResult</span></span><a class="headerlink" href="#dragon.native.pool.ApplyResult" title="Permalink to this definition"></a></dt>
<dd><p>Returned by <code class="code docutils literal notranslate"><span class="pre">apply_async</span></code> and has <code class="code docutils literal notranslate"><span class="pre">get</span></code> method to retrieve result.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dragon.native.pool.Pool" title="dragon.native.pool.Pool"><span class="pre">Pool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dragon.native.pool.ApplyResult.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initializes a result</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<a class="reference internal" href="#dragon.native.pool.Pool" title="dragon.native.pool.Pool"><em>dragon.native.pool.Pool</em></a>) – the pool where work has been submitted</p></li>
<li><p><strong>callback</strong> (<em>callable</em>) – function called on returned result</p></li>
<li><p><strong>error_callback</strong> (<em>callable</em>) – function called on returned result if an error was raised</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#dragon.native.pool.ApplyResult.ready" title="Permalink to this definition"></a></dt>
<dd><p>Checks whether the result is ready.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>returns True if the result is ready or False if it isn’t</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult.successful">
<span class="sig-name descname"><span class="pre">successful</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#dragon.native.pool.ApplyResult.successful" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the result is ready and returns whether the function call was successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – raised if result is not ready</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns True if function call was successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult.wait">
<span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#dragon.native.pool.ApplyResult.wait" title="Permalink to this definition"></a></dt>
<dd><p>Waits on event for result to be ready</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em><em>, </em><em>optional</em>) – timeout indicating how long to wait for result to be ready, defaults to None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.ApplyResult.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#dragon.native.pool.ApplyResult.get" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves returned values of work submitted to pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em><em>, </em><em>optional</em>) – timeout for getting result, defaults to None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TimeoutError</strong> – raised if result is not ready in specified timeout</p></li>
<li><p><strong>self._value</strong> – raises error if returned work was unsuccessful</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>value returned by <code class="code docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dragon.native.pool.AsyncResult">
<span class="sig-name descname"><span class="pre">AsyncResult</span></span><a class="headerlink" href="#dragon.native.pool.AsyncResult" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#dragon.native.pool.ApplyResult" title="dragon.native.pool.ApplyResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApplyResult</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dragon.native.pool.MapResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MapResult</span></span><a class="headerlink" href="#dragon.native.pool.MapResult" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.MapResult.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dragon.native.pool.Pool" title="dragon.native.pool.Pool"><span class="pre">Pool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dragon.native.pool.MapResult.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialization method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<a class="reference internal" href="#dragon.native.pool.Pool" title="dragon.native.pool.Pool"><em>dragon.native.pool.Pool</em></a>) – the pool where work is submitted</p></li>
<li><p><strong>chunksize</strong> (<em>int</em>) – size that work is supposed to be broken up into</p></li>
<li><p><strong>length</strong> (<em>int</em>) – number of items in iterable</p></li>
<li><p><strong>callback</strong> (<em>callable</em>) – function to be called upon return of result</p></li>
<li><p><strong>error_callback</strong> (<em>callable</em>) – function to be called upon return of result if an error was raised.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dragon.native.pool.Pool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Pool</span></span><a class="headerlink" href="#dragon.native.pool.Pool" title="Permalink to this definition"></a></dt>
<dd><p>A Dragon native Pool relying on native Process Group and Queues</p>
<p>The interface resembles the Python Multiprocessing.Pool interface and focuses on the most generic functionality. Here we directly support the asynchronous API. The synchronous version of these calls are supported by calling get on the objects returned from the asynchronous functions. By using a Dragon native Process Group to coordinate the worker processes this implementation addresses scalability limitations with the patched base implementation of Multiprocessing.Pool.</p>
<p>At this time, both <code class="code docutils literal notranslate"><span class="pre">terminate</span></code> and <code class="code docutils literal notranslate"><span class="pre">close</span></code> send a <code class="code docutils literal notranslate"><span class="pre">signal.SIGTERM</span></code> that the workers catch. Using <code class="code docutils literal notranslate"><span class="pre">close</span></code> guarantees that all work submitted to the pool is finished before the signal is sent while <code class="code docutils literal notranslate"><span class="pre">terminate</span></code> sends the signal immediately. The user is expected to call <code class="code docutils literal notranslate"><span class="pre">join</span></code> following both of these calls. If <code class="code docutils literal notranslate"><span class="pre">join</span></code> is not called, zombie processes may be left.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initializer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxtasksperchild</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Policy</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dragon.native.pool.Pool.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Init method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>processes</strong> (<em>int</em><em>, </em><em>optional</em>) – number of worker processes, defaults to None</p></li>
<li><p><strong>initializer</strong> (<em>callable</em><em>, </em><em>optional</em>) – initializer function, defaults to None</p></li>
<li><p><strong>initargs</strong> (<em>tuple</em><em>, </em><em>optional</em>) – arguments for initializer function, defaults to ()</p></li>
<li><p><strong>maxtasksperchild</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum tasks each worker will perform, defaults to None</p></li>
<li><p><strong>policy</strong> (<em>dragon.infrastructure.policy.Policy</em>) – determines the placement of the processes</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – raised if number of worker processes is less than 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.terminate">
<span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#dragon.native.pool.Pool.terminate" title="Permalink to this definition"></a></dt>
<dd><p>This sends the signal.SIGTERM and sets the threading event immediately. Calling this method before blocking on results may lead to some work being undone. If all work should be done before stopping the workers, <code class="code docutils literal notranslate"><span class="pre">close</span></code> should be used. If <code class="code docutils literal notranslate"><span class="pre">join</span></code> is not called after terminate zombie processes may be left over and interfere with future pool or process group use.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#dragon.native.pool.Pool.close" title="Permalink to this definition"></a></dt>
<dd><p>This method starts a thread that waits for all submitted jobs to finish. This thread then sends signal.SIGTERM to the process group and sets the threading event to close the handle_results thread. Waiting and then sending the signals within the thread allows close to return without all work needing to be done.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – raised if <code class="code docutils literal notranslate"><span class="pre">close</span></code> or <code class="code docutils literal notranslate"><span class="pre">terminate</span></code> have been previously called</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#dragon.native.pool.Pool.join" title="Permalink to this definition"></a></dt>
<dd><p>Waits for all workers to return. The user must have called close or terminate prior to calling join.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – raised if <code class="code docutils literal notranslate"><span class="pre">close</span></code> or <code class="code docutils literal notranslate"><span class="pre">terminate</span></code> were not previously called</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.apply_async">
<span class="sig-name descname"><span class="pre">apply_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dragon.native.pool.ApplyResult" title="dragon.native.pool.ApplyResult"><span class="pre">ApplyResult</span></a></span></span><a class="headerlink" href="#dragon.native.pool.Pool.apply_async" title="Permalink to this definition"></a></dt>
<dd><p>Equivalent to calling <code class="code docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code> in a non-blocking way. A result is immediately returned and then updated when <code class="code docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code> has completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – user function to be called by worker function</p></li>
<li><p><strong>args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – input args to func, defaults to ()</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – input kwargs to func, defaults to {}</p></li>
<li><p><strong>callback</strong> (<em>callable</em><em>, </em><em>optional</em>) – user provided callback function, defaults to None</p></li>
<li><p><strong>error_callback</strong> (<em>callable</em><em>, </em><em>optional</em>) – user provided error callback function, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – raised if pool has already been closed or terminated</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A result that has a <code class="code docutils literal notranslate"><span class="pre">get</span></code> method to retrieve result of <code class="code docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#dragon.native.pool.ApplyResult" title="dragon.native.pool.ApplyResult">ApplyResult</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dragon.native.pool.Pool.map_async">
<span class="sig-name descname"><span class="pre">map_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dragon.native.pool.MapResult" title="dragon.native.pool.MapResult"><span class="pre">MapResult</span></a></span></span><a class="headerlink" href="#dragon.native.pool.Pool.map_async" title="Permalink to this definition"></a></dt>
<dd><p>Apply <code class="code docutils literal notranslate"><span class="pre">func</span></code> to each element in <code class="code docutils literal notranslate"><span class="pre">iterable</span></code>. The results
are collected in a list that is returned immediately. It is equivalent to map if the <code class="code docutils literal notranslate"><span class="pre">get</span></code> method is called immediately on the returned result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – user provided function to call on elements of iterable</p></li>
<li><p><strong>iterable</strong> (<em>iterable</em>) – input args to func</p></li>
<li><p><strong>chunksize</strong> (<em>int</em><em>, </em><em>optional</em>) – size of work elements to be submitted to input work queue, defaults to None</p></li>
<li><p><strong>callback</strong> (<em>callable</em><em>, </em><em>optional</em>) – user provided callback function, defaults to None</p></li>
<li><p><strong>error_callback</strong> (<em>callable</em><em>, </em><em>optional</em>) – user provided error callback function, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A result that has a <code class="code docutils literal notranslate"><span class="pre">get</span></code> method that returns an iterable of the output from applying <code class="code docutils literal notranslate"><span class="pre">func</span></code> to each element of iterable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#dragon.native.pool.MapResult" title="dragon.native.pool.MapResult">MapResult</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dragon.native.array.html" class="btn btn-neutral float-left" title="dragon.native.array" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../C/index.html" class="btn btn-neutral float-right" title="C Language Bindings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hewlett Packard Enterprise.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>