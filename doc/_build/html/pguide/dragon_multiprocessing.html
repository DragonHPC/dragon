<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multiprocessing with Dragon &mdash; Dragon  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MPI with Dragon" href="dragon_mpi.html" />
    <link rel="prev" title="Programming Guide" href="pguide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Dragon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uguide/uguide.html">Users Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pguide.html">Programming Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Multiprocessing with Dragon</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multi-node-functionality">Multi-node Functionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="#missing-parts-of-the-multiprocessing-api">Missing Parts of the Multiprocessing API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inheritance-and-multiple-start-methods">Inheritance and Multiple Start Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-file-descriptors-among-dragon-processes">Sharing File Descriptors among Dragon Processes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#multiprocessing-and-dragon-without-patching">Multiprocessing and Dragon without Patching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dragon_mpi.html">MPI with Dragon</a></li>
<li class="toctree-l2"><a class="reference internal" href="envvars.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="owner.html">Ownership, Placement and Locality</a></li>
<li class="toctree-l2"><a class="reference internal" href="stack.html">The API Stack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cbook/cbook.html">Solution Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/ref.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components/components.html">Low-level Components</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Dragon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="pguide.html">Programming Guide</a></li>
      <li class="breadcrumb-item active">Multiprocessing with Dragon</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pguide/dragon_multiprocessing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="multiprocessing-with-dragon">
<h1>Multiprocessing with Dragon<a class="headerlink" href="#multiprocessing-with-dragon" title="Permalink to this heading"></a></h1>
<p>Many Python packages use the
<a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html">Python Multiprocessing</a>
package to provide low-level process parallelism to many other packages like
<a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html">concurrent.futures</a>
and <a class="reference external" href="https://joblib.readthedocs.io/en/latest/">joblib</a> .</p>
<p>Python Multiprocessing with Dragon is designed to comply with the base
implementation as much as can reasonably be done given the differences in
implementations. Dragon is tested against the standard multiprocessing unit
tests to verify compliance. Most user applications can run with Dragon with very
few changes.</p>
<p>To use Python Multiprocessing with Dragon, you need to:</p>
<ol class="arabic simple">
<li><p>Import the Dragon Python Module <strong>before</strong> you import the Python Multiprocessing module.</p></li>
<li><p>Set the Dragon start method to “dragon”.</p></li>
<li><p>Run your program with the <code class="code docutils literal notranslate"><span class="pre">dragon</span></code> binary.</p></li>
</ol>
<p>This blueprint</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">dragon</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">multiprocessing</span> <span class="k">as</span> <span class="nn">mp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># your imports here</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># your classes and functions here</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos"> 9</span>  <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;dragon&quot;</span><span class="p">)</span>
<span class="linenos">10</span>
<span class="linenos">11</span>  <span class="c1"># your code here</span>
</pre></div>
</div>
<p>illustrates the required changes. Note that the start method has to be set only once in the
beginning of the program.</p>
<p>Run your code with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>&gt; dragon dragon_script.py
</pre></div>
</div>
<p>See also <a class="reference internal" href="../uguide/running_dragon.html#running-dragon"><span class="std std-ref">Running Dragon</span></a>.</p>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this heading"></a></h2>
<p>Even though our goal is to make Multiprocessing “just work” out of the box, the
following limitations apply.</p>
<section id="multi-node-functionality">
<h3>Multi-node Functionality<a class="headerlink" href="#multi-node-functionality" title="Permalink to this heading"></a></h3>
<p>The following components of the Multiprocessing API have limited multi-node support at the moment:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.synchronize.Barrier</span></code></p></li>
</ul>
</section>
<section id="missing-parts-of-the-multiprocessing-api">
<h3>Missing Parts of the Multiprocessing API<a class="headerlink" href="#missing-parts-of-the-multiprocessing-api" title="Permalink to this heading"></a></h3>
<p>The following components of the Multiprocessing API are currently not supported by the Dragon start method and will
raise a <code class="code docutils literal notranslate"><span class="pre">NotImplementedError</span></code> when used:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.manager</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.Value</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.Array</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.sharedctypes</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.Listener</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.Client</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.get_logger()</span></code>, <code class="code docutils literal notranslate"><span class="pre">multiprocessing.log_to_stderr())</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">multiprocessing.dummy</span></code></p></li>
</ul>
</section>
<section id="inheritance-and-multiple-start-methods">
<h3>Inheritance and Multiple Start Methods<a class="headerlink" href="#inheritance-and-multiple-start-methods" title="Permalink to this heading"></a></h3>
<p>Your code will break, if you inherit from Multiprocessing classes and switch the start method
from Dragon to another start method like <code class="code docutils literal notranslate"><span class="pre">spawn</span></code> during program execution.
The following code will not work:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">dragon</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">multiprocessing</span> <span class="k">as</span> <span class="nn">mp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">mp</span><span class="o">.</span><span class="n">queues</span><span class="o">.</span><span class="n">Queue</span><span class="p">):</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>  <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 7</span>    <span class="k">pass</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">10</span>
<span class="linenos">11</span>    <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;dragon&quot;</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="n">f1</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span> <span class="c1"># works</span>
<span class="linenos">13</span>    <span class="n">f1</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="linenos">14</span>    <span class="n">test</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;spawn&quot;</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="n">f2</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span> <span class="c1"># will likely break</span>
<span class="linenos">18</span>    <span class="n">f2</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When the <code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">dragon</span></code> statement is executed, Dragon will replace all standard
Multiprocessing classes with Dragon equivalent classes before CPython resolves
the inheritance tree. This works well so long as you do not try to switch the
multiprocessing start method mid-application. That is, Dragon will not fix the
inheritance tree, replacing the original multiprocessing classes, after switching
the start method for class <code class="code docutils literal notranslate"><span class="pre">Foo</span></code> in the example above. Indeed, class Foo will
still be inherited from <code class="code docutils literal notranslate"><span class="pre">dragon.mpbridge.queues.DragonQueue</span></code>, not
<code class="code docutils literal notranslate"><span class="pre">multiprocessing.queues.Queue</span></code>.</p>
<p>If you truly need to switch start methods mid-stream, then you can use
<code class="code docutils literal notranslate"><span class="pre">multiprocessing.get_context()</span></code> to obtain objects from the current
Multiprocessing context:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">dragon</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">multiprocessing</span> <span class="k">as</span> <span class="nn">mp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 7</span>    <span class="n">ctx</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">get_context</span><span class="p">()</span>
<span class="linenos"> 8</span>    <span class="bp">self</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>  <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">11</span>    <span class="k">pass</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;dragon&quot;</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="n">f1</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span> <span class="c1"># works</span>
<span class="linenos">17</span>    <span class="n">f1</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="linenos">18</span>    <span class="n">test</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="linenos">19</span>
<span class="linenos">20</span>    <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;spawn&quot;</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="n">f2</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span> <span class="c1"># works</span>
<span class="linenos">22</span>    <span class="n">f2</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sharing-file-descriptors-among-dragon-processes">
<h3>Sharing File Descriptors among Dragon Processes<a class="headerlink" href="#sharing-file-descriptors-among-dragon-processes" title="Permalink to this heading"></a></h3>
<p>In some circumstances, Python Multiprocessing allows child processes to use file
descriptors of the parent process. It does so by introducing a custom reducer in
<code class="code docutils literal notranslate"><span class="pre">multiprocessing.reduction</span></code> that duplicates the parents file descriptor for the
child. This is used for example to pickle and share <code class="code docutils literal notranslate"><span class="pre">multiprocessing.heap.Arena</span></code>
objects among a set of processes.</p>
<p>Dragon does not support sharing file descriptors among processes due to the fact
that Dragon processes are generally intended to run across distributed or
<a class="reference internal" href="../uguide/glossary.html#term-Federated-System"><span class="xref std std-term">federated systems</span></a>.</p>
<p>The following methods in <code class="code docutils literal notranslate"><span class="pre">multiprocessing.reduction</span></code> will raise a
<code class="code docutils literal notranslate"><span class="pre">NotImplementedError</span></code>:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">DupFd</span></code>, used to duplicate file descriptors during unpickling.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sendFds</span></code>, used to send file descriptors to other processes.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">recvFds</span></code>, used to recv file descriptors from other proceses.</p></li>
</ul>
<p>We have rewritten the parts of Multiprocessing that use this custom reducer to
use Dragon Managed Memory allocations.  If your program uses file
descriptors to share a common memory space among processes you will have to
rewrite that part of it, ideally using <code class="code docutils literal notranslate"><span class="pre">dragon.managed_memory</span></code>.</p>
</section>
</section>
<section id="multiprocessing-and-dragon-without-patching">
<h2>Multiprocessing and Dragon without Patching<a class="headerlink" href="#multiprocessing-and-dragon-without-patching" title="Permalink to this heading"></a></h2>
<p>If you want to use Python Multiprocessing with the Dragon Core libraries, but
avoid patching altogether, you can simply omit starting your code with the
<code class="code docutils literal notranslate"><span class="pre">dragon</span></code> binary. The Dragon core library can still be imported via e.g. <code class="code docutils literal notranslate"><span class="pre">from</span>
<span class="pre">dragon.managed_memory</span> <span class="pre">import</span> <span class="pre">MemoryPool</span></code> and used. In this case, the <code class="code docutils literal notranslate"><span class="pre">&quot;dragon&quot;</span></code>
start method must not be set. The infrastructure will not be started.</p>
<p>Note that Dragon Core objects are <a class="reference internal" href="../uguide/glossary.html#term-Unmanaged-Object"><span class="xref std std-term">unmanaged objects</span></a>
and not <a class="reference internal" href="../uguide/glossary.html#term-Transparency"><span class="xref std std-term">transparent</span></a> without the infrastructure services
running, i.e. you have to rely on pickling/serializing to share the
<a class="reference internal" href="../uguide/glossary.html#term-Serialized-Descriptor"><span class="xref std std-term">Serialized Descriptor</span></a> with other processes on the same node. Global name
or uid resolution and garbage collection cannot be provided anymore.</p>
<p>Note that all other parts of the Dragon stack, in particular the
<a class="reference internal" href="../ref/native/index.html#dragon-native"><span class="std std-ref">Dragon Native</span></a> API require the running Dragon
infrastructure and are thus not supported without patching Multiprocessing.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-number">Listing 3 </span><span class="caption-text"><strong>A Python program using the Dragon core libraries without the infrastructure. It can be run with the standard Python executable `python3`</strong></span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">multiprocessing</span> <span class="k">as</span> <span class="nn">mp</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">dragon.managed_memory</span> <span class="kn">import</span> <span class="n">MemoryPool</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dragon.channels</span> <span class="kn">import</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">Message</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>  <span class="n">mp</span><span class="o">.</span><span class="n">set_start_method</span><span class="p">(</span><span class="s2">&quot;spawn&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>  <span class="n">q</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>  <span class="n">m_uid</span> <span class="o">=</span> <span class="mi">2</span>
<span class="linenos">11</span>  <span class="n">c_uid</span> <span class="o">=</span> <span class="mi">3</span>
<span class="linenos">12</span>  <span class="n">mpool</span> <span class="o">=</span> <span class="n">MemoryPool</span><span class="p">(</span><span class="mi">1024</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;MyDragonCoreMemPool&quot;</span><span class="p">,</span> <span class="n">m_uid</span><span class="p">)</span>
<span class="linenos">13</span>  <span class="n">ch</span> <span class="o">=</span> <span class="n">Channel</span><span class="p">(</span><span class="n">mpool</span><span class="p">,</span> <span class="n">c_uid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pguide.html" class="btn btn-neutral float-left" title="Programming Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dragon_mpi.html" class="btn btn-neutral float-right" title="MPI with Dragon" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hewlett Packard Enterprise.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>